# ============================================================================
# CryptoVolt Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your actual credentials
# IMPORTANT: NEVER commit .env to version control
# ============================================================================

# ============================================================================
# BINANCE FUTURES API (Mandatory for Trading)
# ============================================================================
# Get credentials from: https://www.binance.com/en/account/api-management
# 
# SECURITY SETTINGS:
# - Restrict IP addresses (add your server IP)
# - Enable IP Whitelist
# - Disable Account Transfer & Withdrawals
# - Restrict to Futures Trading only (if possible)
# ============================================================================

BINANCE_API_KEY=Yo5r7wPiEq4fq1pvU2BSynXJes6MPImKWi03S9rzqbySfu4SJP9mbgdPq0T5YAsT
BINANCE_API_SECRET=lgHUKyJ8J1tJk1PhELNlN32KeNdnHJv940IQ5yJg7OoLdH1l7LJLnSQrpJKF9IU0

# Optional: Testnet credentials (for development/testing)
# Get from: https://testnet.binance.vision/
BINANCE_TESTNET_API_KEY=your_testnet_api_key_here
BINANCE_TESTNET_API_SECRET=your_testnet_api_secret_here

# ============================================================================
# DISCORD ALERTS (Optional but Recommended)
# ============================================================================
# Setup:
# 1. Create Discord Server
# 2. Create Bot at https://discord.com/developers/applications
# 3. Copy Bot Token
# 4. Create Webhook in channel settings
# 5. Copy Webhook URL
# ============================================================================

DISCORD_BOT_TOKEN=2wLqR-vGkcFYILQekphBMRoYlbIvuyqy
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/1429173388814844026/16b7qD0GIeCjV0Ul4bwDpSnM4biOz7q56X1mtcF2vQ2QnqOH0wkRv2xAd_HMVZoRNw5O
DISCORD_CHANNEL_ID=1429172043202560163

# Discord alert thresholds
DISCORD_ALERT_ON_TRADE=true
DISCORD_ALERT_ON_SENTIMENT_CHANGE=true
DISCORD_ALERT_ON_RISK_WARNING=true

# ============================================================================
# REDDIT OAUTH (Required for Sentiment Analysis)
# ============================================================================
# Setup:
# 1. Go to https://www.reddit.com/prefs/apps
# 2. Click "Create App" or "Create another app"
# 3. Fill form:
#    - Name: CryptoVolt (or your choice)
#    - Type: script
#    - Redirect URI: http://localhost:8080
# 4. Copy credentials
# ============================================================================

REDDIT_CLIENT_ID=oXvmcPz6Sb2ObD5q9FQ0dw
REDDIT_CLIENT_SECRET=RbNtP24dpX_S2t19fbIVTlz-AeZYYA
REDDIT_USER_AGENT=CryptoVolt/3.0 by u/Ill-Database-3830

# Reddit sentiment sources
REDDIT_SUBREDDITS=bitcoin,ethereum,CryptoCurrency,CryptoMarkets,SatoshiStreetBets
REDDIT_POST_LIMIT=150
REDDIT_SEARCH_DEEP=true  # Search hot + new + search results

# ============================================================================
# DATABASE (PostgreSQL)
# ============================================================================
# Local Development:
# DATABASE_URL=postgresql://user:password@localhost:5432/cryptovolt_dev
#
# Production (example with cloud provider):
# DATABASE_URL=postgresql://user:password@db.provider.com:5432/cryptovolt
# ============================================================================

DATABASE_URL=postgresql://postgres:password@localhost:5432/cryptovolt
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40

# ============================================================================
# REDIS (Caching & Session Management)
# ============================================================================
# Local Development: redis://localhost:6379
# Production: redis://password@redis.provider.com:6379
# ============================================================================

REDIS_URL=redis://localhost:6379
REDIS_DB=0

# ============================================================================
# NEWS & SENTIMENT SOURCES
# ============================================================================
# These are free public APIs, no auth keys required
# But you may want to get API keys for higher rate limits
# ============================================================================

# CryptoCompare API (optional key for higher limits)
CRYPTOCOMPARE_API_KEY=your_api_key_optional

# CoinMarketCap API (alternative source)
COINMARKETCAP_API_KEY=your_api_key_optional

# ============================================================================
# SYSTEM CONFIGURATION
# ============================================================================

# Debug mode (set to False in production)
DEBUG=False

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Paper trading mode (MUST BE TRUE for academic/research project)
# Set to False ONLY with explicit supervisor approval and proper safeguards
PAPER_TRADING_MODE=True

# Maximum daily loss allowed in paper trading (USD)
MAX_DAILY_LOSS=1000.0

# Kill switch enabled (emergency order halt)
KILL_SWITCH_ENABLED=True

# ============================================================================
# TRADING STRATEGY PARAMETERS
# ============================================================================

# Default trading symbols (comma-separated)
TRADING_SYMBOLS=BTCUSDT,ETHUSDT,BNBUSDT

# Position sizing
DEFAULT_LEVERAGE=1
DEFAULT_POSITION_SIZE=100  # USDT
MAX_POSITION_SIZE=1000  # USDT
MAX_DAILY_EXPOSURE=5000  # USDT

# Risk management
STOP_LOSS_PERCENTAGE=2.0  # 2% below entry
TAKE_PROFIT_PERCENTAGE=5.0  # 5% above entry

# ============================================================================
# SENTIMENT ANALYSIS CONFIGURATION
# ============================================================================

# Use FinBERT for enhanced financial sentiment (slower but more accurate)
# Requires: pip install transformers torch
USE_FINBERT=False

# Sentiment cache TTL (seconds)
SENTIMENT_CACHE_TTL=600

# Sentiment analysis frequency
SENTIMENT_UPDATE_INTERVAL=300  # seconds (every 5 minutes)

# Sentiment thresholds for veto
SENTIMENT_BULLISH_THRESHOLD=0.05
SENTIMENT_BEARISH_THRESHOLD=-0.05
SENTIMENT_RISK_VETO_THRESHOLD=-0.3  # Halt trading if sentiment < this

# ============================================================================
# ML MODEL CONFIGURATION
# ============================================================================

# Model selection
XGBOOST_MODEL_PATH=models/xgboost_model.pkl
LSTM_MODEL_PATH=models/lstm_model.h5

# Model refresh frequency (hours)
MODEL_RETRAINING_INTERVAL=24

# ============================================================================
# BACKTEST & EVALUATION CONFIGURATION
# ============================================================================

# Historical data period
BACKTEST_START_DATE=2023-01-01
BACKTEST_END_DATE=2025-12-31

# Backtest parameters
BACKTEST_INITIAL_CAPITAL=10000  # USDT
BACKTEST_COMMISSION_PERCENT=0.001  # 0.1% per trade

# ============================================================================
# LOGGING & MONITORING
# ============================================================================

# Log file location
LOG_FILE=logs/cryptovolt.log

# Enable API call logging
LOG_API_CALLS=True

# Enable trade execution logging
LOG_TRADES=True

# Keep logs for (days)
LOG_RETENTION_DAYS=30

# ============================================================================
# EMAIL NOTIFICATIONS (Optional)
# ============================================================================

SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
ALERT_EMAIL_ADDRESS=supervisor@university.edu

# ============================================================================
# BINANCE STREAM CONFIGURATION
# ============================================================================

# WebSocket stream timeouts (seconds)
WS_RECONNECT_TIMEOUT=5
WS_CONNECTION_TIMEOUT=30

# Market data aggregation
MARKET_DATA_INTERVAL=60  # seconds

# ============================================================================
# PROJECT METADATA
# ============================================================================

PROJECT_NAME=CryptoVolt
PROJECT_VERSION=3.0.2
TEAM_NAME=Your University Team
ACADEMIC_YEAR=2025-2026
SUPERVISOR_NAME=Your Supervisor
INSTITUTION=Your University

# ============================================================================
# SECURITY & API RATE LIMITING
# ============================================================================

# API rate limit settings
API_RATE_LIMIT_ENABLED=True

# Per-service rate limits (requests per minute)
BINANCE_RATE_LIMIT=1200
DISCORD_RATE_LIMIT=60
REDDIT_RATE_LIMIT=60
NEWS_API_RATE_LIMIT=100

# ============================================================================
# FEATURE FLAGS (Enable/Disable Features)
# ============================================================================

FEATURE_SENTIMENT_ANALYSIS=True
FEATURE_TECHNICAL_INDICATORS=True
FEATURE_MACHINE_LEARNING=True
FEATURE_HYBRID_DECISION_ENGINE=True
FEATURE_BACKTESTING=True
FEATURE_PAPER_TRADING=True
FEATURE_LIVE_TRADING=False  # Only enable with approval
FEATURE_DISCORD_ALERTS=True
FEATURE_EMAIL_ALERTS=False
FEATURE_MOBILE_APP=True

# ============================================================================
# NOTES FOR DEVELOPMENT TEAM
# ============================================================================
#
# 1. SECURITY:
#    - Never commit .env to git (add to .gitignore)
#    - Rotate credentials every 3 months
#    - Use different keys for dev/test/prod
#    - Keep separate .env files for each environment
#
# 2. API KEYS:
#    - Binance: Rotate monthly, use IP whitelist
#    - Discord: Can remain same, webhook-based
#    - Reddit: Rotate every 6 months
#    - News: Public APIs, no sensitive data
#
# 3. TESTING:
#    - Always use PAPER_TRADING_MODE=True initially
#    - Test all APIs with test_api_connectivity.py script
#    - Validate environment variables on startup
#    - Use Binance Testnet for development
#
# 4. MONITORING:
#    - Check API usage daily
#    - Monitor rate limit consumption
#    - Track error rates and anomalies
#    - Review Discord alerts for issues
#
# 5. TROUBLESHOOTING:
#    - Check logs/cryptovolt.log for errors
#    - Verify API credentials are correct
#    - Test IP whitelist on Binance
#    - Ensure network connectivity
#    - Check Redis and PostgreSQL status
#
# ============================================================================

# End of Environment Configuration
